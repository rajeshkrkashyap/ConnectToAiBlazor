@page "/private/Index"

@using Razor.Components.Pages
@using Razor.Components.Pages.Private
@using Razor.Components.Pages.Public
<IndexComponent />

<script>
    function dataFromLocalstorage(userId) {
        // Load saved chats and theme from local storage and apply/add on the page

       

        var allChatContainer = document.getElementById("all-chat-container");
        //allChatContainer.innerHTML = localStorage.getItem("all-chats") || defaultText;
        var mainChatContainer = document.getElementById("main-chat-container");
        if (mainChatContainer != null)
            mainChatContainer.innerHTML = localStorage.getItem("all-chats" + userId);


        var libraryUrl = 'https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js';
        reloadLibrary(libraryUrl);

        let paragraphs = document.querySelectorAll('p');
        paragraphs.forEach(function (paragraph) {
            if (paragraph.innerHTML.trim() === "") {
                paragraph.remove();
            }
        });
        //adjustScroll();
        $(document).ready(function () {
            setTimeout(function () {
                document.getElementById('main-chat-container').scrollTop = document.getElementById('main-chat-container').scrollHeight;
                console.log(document.getElementById('main-chat-container').scrollTop);
            }, 500);
        });
    }
</script>